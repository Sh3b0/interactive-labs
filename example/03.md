# Asymmetric Key Cryptography

How can Alice and Bob intially share the symmetric key? They cannot simply send it in plain, as Eve will see it. Instead, they can:

1. Use a key exchange algorithm (e.g., Diffie-Hellman) to establish a shared secret.
2. Use a public key algorithm (e.g., RSA) to share the symmetric key `k`.

## Practice

1. Bob generates a pair of keys (public and private): a message encrypted with one key (public/private) can only be decrypted by the other (private/public).

   ```bash
   openssl genpkey -algorithm RSA -out private.pem -pkeyopt rsa_keygen_bits:2048
   cat private.pem
   ```

   ```bash
   openssl pkey -in private.pem -pubout -out public.pem
   cat public.pem
   ```

2. Alice sends `encrypt(k, publicKey)` to Bob (assume **Alice knows Bob's public key**)

   ```bash
   echo "SYMMETRIC KEY" | openssl pkeyutl -encrypt -pubin -inkey public.pem -out msg.enc
   ```

3. Only Bob can get `k = decrypt(k, privateKey)`.

   ```bash
   openssl pkeyutl -decrypt -inkey private.pem -in msg.enc
   ```

4. Further communication can use the securely shared symmetric key.

### Exercise 2

SSH passwordless authentication uses asymmetric keys. Show how can `ssh-keygen` and `authorized_keys` be used to login to another machine (e.g., your host or friend's) without a password.
